{"ast":null,"code":"var _jsxFileName = \"/Users/chandan/Desktop/ZTA prototype1/business-dashboard/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Dashboard from './components/Dashboard';\nimport keycloak from './keycloak';\n\n// Debug component to show current state\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DebugInfo = ({\n  isAuthenticated,\n  user,\n  keycloakState,\n  error\n}) => {\n  if (process.env.NODE_ENV !== 'development') return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed top-0 right-0 bg-black text-white p-4 text-xs max-w-sm z-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n      children: \"Debug Info:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Authenticated: \", isAuthenticated ? 'YES' : 'NO']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 13,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Keycloak Ready: \", keycloakState]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"User: \", user ? user.name : 'None']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Token: \", keycloak.token ? 'Present' : 'None']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"URL: \", window.location.pathname]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Error: \", error || 'None']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"Keycloak Authenticated: \", keycloak.authenticated ? 'YES' : 'NO']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 11,\n    columnNumber: 5\n  }, this);\n};\n\n// Simple Login Page\n_c = DebugInfo;\nconst LoginPage = ({\n  keycloakError,\n  onManualCheck\n}) => {\n  _s();\n  const [isLogging, setIsLogging] = useState(false);\n  const handleLogin = () => {\n    console.log('=== LOGIN BUTTON CLICKED ===');\n    console.log('Current URL:', window.location.href);\n    console.log('Keycloak authenticated before login:', keycloak.authenticated);\n    setIsLogging(true);\n    keycloak.login({\n      redirectUri: window.location.origin + '/dashboard'\n    }).catch(error => {\n      console.error('Login failed:', error);\n      setIsLogging(false);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl font-bold text-gray-900\",\n          children: \"BusinessPro\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-gray-600\",\n          children: \"Sign in to continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), keycloakError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: keycloakError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogin,\n          disabled: isLogging,\n          className: \"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors\",\n          children: isLogging ? 'Redirecting to Keycloak...' : 'Sign in with Keycloak'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onManualCheck,\n          className: \"w-full py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm rounded-lg transition-colors\",\n          children: \"Check Auth Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-xs text-gray-500 bg-gray-50 p-3 rounded\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Keycloak URL: \", keycloak.authServerUrl || 'Not set']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Realm: \", keycloak.realm || 'Not set']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Client ID: \", keycloak.clientId || 'Not set']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"Current Keycloak State: \", keycloak.authenticated ? 'Authenticated' : 'Not Authenticated']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n// Dashboard wrapper\n_s(LoginPage, \"hiG+v7lMOLAHw9CRhqiKNEE4CEQ=\");\n_c2 = LoginPage;\nconst DashboardPage = ({\n  user\n}) => {\n  const handleLogout = () => {\n    console.log('=== LOGOUT CLICKED ===');\n    keycloak.logout({\n      redirectUri: window.location.origin\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Dashboard, {\n    isAuthenticated: true,\n    user: user,\n    onLogout: handleLogout,\n    keycloak: keycloak\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n};\n\n// Main App\n_c3 = DashboardPage;\nfunction App() {\n  _s2();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [keycloakState, setKeycloakState] = useState('initializing');\n\n  // Manual auth check function\n  const checkAuthStatus = () => {\n    console.log('=== MANUAL AUTH CHECK ===');\n    console.log('Keycloak authenticated:', keycloak.authenticated);\n    console.log('Keycloak token:', keycloak.token ? 'Present' : 'None');\n    console.log('Keycloak token parsed:', keycloak.tokenParsed);\n    console.log('Current state - isAuthenticated:', isAuthenticated);\n    console.log('Current user:', user);\n    if (keycloak.authenticated && !isAuthenticated) {\n      console.log('Keycloak says authenticated but app state says not - fixing...');\n      setIsAuthenticated(true);\n      loadUserData();\n    }\n  };\n\n  // Load user data\n  const loadUserData = async () => {\n    try {\n      var _keycloak$realmAccess;\n      console.log('Loading user data...');\n      const profile = await keycloak.loadUserProfile();\n      const userData = {\n        name: `${profile.firstName || ''} ${profile.lastName || ''}`.trim() || profile.username || 'User',\n        email: profile.email,\n        username: profile.username,\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        roles: ((_keycloak$realmAccess = keycloak.realmAccess) === null || _keycloak$realmAccess === void 0 ? void 0 : _keycloak$realmAccess.roles) || []\n      };\n      console.log('User data loaded:', userData);\n      setUser(userData);\n      return userData;\n    } catch (profileError) {\n      var _keycloak$realmAccess2;\n      console.warn('Profile loading failed, using token data:', profileError);\n      const tokenParsed = keycloak.tokenParsed;\n      const userData = {\n        name: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.name) || (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.preferred_username) || 'User',\n        email: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.email) || '',\n        username: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.preferred_username) || '',\n        firstName: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.given_name) || '',\n        lastName: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.family_name) || '',\n        roles: ((_keycloak$realmAccess2 = keycloak.realmAccess) === null || _keycloak$realmAccess2 === void 0 ? void 0 : _keycloak$realmAccess2.roles) || []\n      };\n      console.log('Fallback user data:', userData);\n      setUser(userData);\n      return userData;\n    }\n  };\n\n  // Initialize Keycloak\n  useEffect(() => {\n    console.log('=== INITIALIZING KEYCLOAK ===');\n    console.log('Current URL:', window.location.href);\n    console.log('URL has code param:', window.location.search.includes('code='));\n    const initKeycloak = async () => {\n      try {\n        setKeycloakState('connecting');\n\n        // Check if this is a callback from Keycloak (has 'code' parameter)\n        const urlParams = new URLSearchParams(window.location.search);\n        const isCallback = urlParams.has('code') && urlParams.has('state');\n        console.log('Is callback URL:', isCallback);\n        const initOptions = {\n          onLoad: isCallback ? 'login-required' : 'check-sso',\n          checkLoginIframe: false,\n          pkceMethod: 'S256'\n        };\n        console.log('Keycloak init options:', initOptions);\n        const authenticated = await keycloak.init(initOptions);\n        console.log('=== KEYCLOAK INIT COMPLETE ===');\n        console.log('Authenticated:', authenticated);\n        console.log('Token present:', !!keycloak.token);\n        console.log('Token parsed:', keycloak.tokenParsed);\n        setKeycloakState('ready');\n        setIsAuthenticated(authenticated);\n        if (authenticated) {\n          console.log('User is authenticated, loading profile...');\n          await loadUserData();\n\n          // If we're on login page and authenticated, redirect to dashboard\n          if (window.location.pathname === '/login' || window.location.pathname === '/') {\n            console.log('Authenticated user on login page, redirecting to dashboard');\n            window.location.replace('/dashboard');\n            return;\n          }\n        } else {\n          console.log('User not authenticated');\n          // If we're trying to access dashboard but not authenticated, redirect to login\n          if (window.location.pathname === '/dashboard') {\n            console.log('Unauthenticated user on dashboard, redirecting to login');\n            window.location.replace('/login');\n            return;\n          }\n        }\n      } catch (initError) {\n        console.error('=== KEYCLOAK INIT FAILED ===');\n        console.error('Error:', initError);\n        setKeycloakState('error');\n        //setError(initError.message || 'Keycloak initialization failed');\n      } finally {\n        setLoading(false);\n      }\n    };\n    initKeycloak();\n  }, []);\n\n  // Set up Keycloak event listeners\n  useEffect(() => {\n    console.log('Setting up Keycloak event listeners...');\n    keycloak.onAuthSuccess = () => {\n      console.log('=== AUTH SUCCESS EVENT ===');\n      setError(null);\n      setIsAuthenticated(true);\n      loadUserData().then(() => {\n        // Redirect to dashboard after successful auth\n        if (window.location.pathname !== '/dashboard') {\n          console.log('Auth success, redirecting to dashboard');\n          window.location.replace('/dashboard');\n        }\n      });\n    };\n    keycloak.onAuthError = errorData => {\n      console.error('=== AUTH ERROR EVENT ===');\n      console.error('Error:', errorData);\n      setError('Authentication failed');\n      setIsAuthenticated(false);\n      setUser(null);\n    };\n    keycloak.onAuthLogout = () => {\n      console.log('=== AUTH LOGOUT EVENT ===');\n      setIsAuthenticated(false);\n      setUser(null);\n      setError(null);\n    };\n    keycloak.onTokenExpired = () => {\n      console.log('=== TOKEN EXPIRED EVENT ===');\n      keycloak.updateToken(30).catch(() => {\n        console.log('Token refresh failed, logging out');\n        setIsAuthenticated(false);\n        setUser(null);\n      });\n    };\n    return () => {\n      keycloak.onAuthSuccess = null;\n      keycloak.onAuthError = null;\n      keycloak.onAuthLogout = null;\n      keycloak.onTokenExpired = null;\n    };\n  }, []);\n\n  // Loading screen\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Initializing authentication...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm text-gray-500 mt-2\",\n          children: [\"State: \", keycloakState]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Error screen\n  if (error && keycloakState === 'error') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-red-800 mb-2\",\n            children: \"Authentication Service Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-600 mb-4\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors\",\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: [/*#__PURE__*/_jsxDEV(DebugInfo, {\n        isAuthenticated: isAuthenticated,\n        user: user,\n        keycloakState: keycloakState,\n        error: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(LoginPage, {\n            keycloakError: error,\n            onManualCheck: checkAuthStatus\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: isAuthenticated ? /*#__PURE__*/_jsxDEV(DashboardPage, {\n            user: user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 335,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: isAuthenticated ? \"/dashboard\" : \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 351,\n            columnNumber: 36\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 314,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"1bRLaty/EqLeik819Ib2jHPrQ7k=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"DebugInfo\");\n$RefreshReg$(_c2, \"LoginPage\");\n$RefreshReg$(_c3, \"DashboardPage\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Dashboard","keycloak","jsxDEV","_jsxDEV","DebugInfo","isAuthenticated","user","keycloakState","error","process","env","NODE_ENV","className","children","fileName","_jsxFileName","lineNumber","columnNumber","name","token","window","location","pathname","authenticated","_c","LoginPage","keycloakError","onManualCheck","_s","isLogging","setIsLogging","handleLogin","console","log","href","login","redirectUri","origin","catch","onClick","disabled","authServerUrl","realm","clientId","_c2","DashboardPage","handleLogout","logout","onLogout","_c3","App","_s2","setIsAuthenticated","setUser","loading","setLoading","setError","setKeycloakState","checkAuthStatus","tokenParsed","loadUserData","_keycloak$realmAccess","profile","loadUserProfile","userData","firstName","lastName","trim","username","email","roles","realmAccess","profileError","_keycloak$realmAccess2","warn","preferred_username","given_name","family_name","search","includes","initKeycloak","urlParams","URLSearchParams","isCallback","has","initOptions","onLoad","checkLoginIframe","pkceMethod","init","replace","initError","onAuthSuccess","then","onAuthError","errorData","onAuthLogout","onTokenExpired","updateToken","reload","path","element","to","_c4","$RefreshReg$"],"sources":["/Users/chandan/Desktop/ZTA prototype1/business-dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport Dashboard from './components/Dashboard';\nimport keycloak from './keycloak';\n\n// Debug component to show current state\nconst DebugInfo = ({ isAuthenticated, user, keycloakState, error }) => {\n  if (process.env.NODE_ENV !== 'development') return null;\n  \n  return (\n    <div className=\"fixed top-0 right-0 bg-black text-white p-4 text-xs max-w-sm z-50\">\n      <h4>Debug Info:</h4>\n      <div>Authenticated: {isAuthenticated ? 'YES' : 'NO'}</div>\n      <div>Keycloak Ready: {keycloakState}</div>\n      <div>User: {user ? user.name : 'None'}</div>\n      <div>Token: {keycloak.token ? 'Present' : 'None'}</div>\n      <div>URL: {window.location.pathname}</div>\n      <div>Error: {error || 'None'}</div>\n      <div>Keycloak Authenticated: {keycloak.authenticated ? 'YES' : 'NO'}</div>\n    </div>\n  );\n};\n\n// Simple Login Page\nconst LoginPage = ({ keycloakError, onManualCheck }) => {\n  const [isLogging, setIsLogging] = useState(false);\n\n  const handleLogin = () => {\n    console.log('=== LOGIN BUTTON CLICKED ===');\n    console.log('Current URL:', window.location.href);\n    console.log('Keycloak authenticated before login:', keycloak.authenticated);\n    \n    setIsLogging(true);\n    \n    keycloak.login({\n      redirectUri: window.location.origin + '/dashboard'\n    }).catch(error => {\n      console.error('Login failed:', error);\n      setIsLogging(false);\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"max-w-md w-full space-y-8 bg-white p-8 rounded-lg shadow\">\n        <div className=\"text-center\">\n          <h2 className=\"text-2xl font-bold text-gray-900\">BusinessPro</h2>\n          <p className=\"mt-2 text-gray-600\">Sign in to continue</p>\n        </div>\n        \n        {keycloakError && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n            <p className=\"text-sm\">{keycloakError}</p>\n          </div>\n        )}\n        \n        <div className=\"space-y-4\">\n          <button\n            onClick={handleLogin}\n            disabled={isLogging}\n            className=\"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 text-white font-medium rounded-lg transition-colors\"\n          >\n            {isLogging ? 'Redirecting to Keycloak...' : 'Sign in with Keycloak'}\n          </button>\n          \n          <button\n            onClick={onManualCheck}\n            className=\"w-full py-2 px-4 bg-gray-200 hover:bg-gray-300 text-gray-700 text-sm rounded-lg transition-colors\"\n          >\n            Check Auth Status\n          </button>\n        </div>\n        \n        <div className=\"text-xs text-gray-500 bg-gray-50 p-3 rounded\">\n          <div>Keycloak URL: {keycloak.authServerUrl || 'Not set'}</div>\n          <div>Realm: {keycloak.realm || 'Not set'}</div>\n          <div>Client ID: {keycloak.clientId || 'Not set'}</div>\n          <div>Current Keycloak State: {keycloak.authenticated ? 'Authenticated' : 'Not Authenticated'}</div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Dashboard wrapper\nconst DashboardPage = ({ user }) => {\n  const handleLogout = () => {\n    console.log('=== LOGOUT CLICKED ===');\n    keycloak.logout({\n      redirectUri: window.location.origin\n    });\n  };\n\n  return (\n    <Dashboard\n      isAuthenticated={true}\n      user={user}\n      onLogout={handleLogout}\n      keycloak={keycloak}\n    />\n  );\n};\n\n// Main App\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [keycloakState, setKeycloakState] = useState('initializing');\n\n  // Manual auth check function\n  const checkAuthStatus = () => {\n    console.log('=== MANUAL AUTH CHECK ===');\n    console.log('Keycloak authenticated:', keycloak.authenticated);\n    console.log('Keycloak token:', keycloak.token ? 'Present' : 'None');\n    console.log('Keycloak token parsed:', keycloak.tokenParsed);\n    console.log('Current state - isAuthenticated:', isAuthenticated);\n    console.log('Current user:', user);\n    \n    if (keycloak.authenticated && !isAuthenticated) {\n      console.log('Keycloak says authenticated but app state says not - fixing...');\n      setIsAuthenticated(true);\n      loadUserData();\n    }\n  };\n\n  // Load user data\n  const loadUserData = async () => {\n    try {\n      console.log('Loading user data...');\n      const profile = await keycloak.loadUserProfile();\n      const userData = {\n        name: `${profile.firstName || ''} ${profile.lastName || ''}`.trim() || profile.username || 'User',\n        email: profile.email,\n        username: profile.username,\n        firstName: profile.firstName,\n        lastName: profile.lastName,\n        roles: keycloak.realmAccess?.roles || []\n      };\n      console.log('User data loaded:', userData);\n      setUser(userData);\n      return userData;\n    } catch (profileError) {\n      console.warn('Profile loading failed, using token data:', profileError);\n      const tokenParsed = keycloak.tokenParsed;\n      const userData = {\n        name: tokenParsed?.name || tokenParsed?.preferred_username || 'User',\n        email: tokenParsed?.email || '',\n        username: tokenParsed?.preferred_username || '',\n        firstName: tokenParsed?.given_name || '',\n        lastName: tokenParsed?.family_name || '',\n        roles: keycloak.realmAccess?.roles || []\n      };\n      console.log('Fallback user data:', userData);\n      setUser(userData);\n      return userData;\n    }\n  };\n\n  // Initialize Keycloak\n  useEffect(() => {\n    console.log('=== INITIALIZING KEYCLOAK ===');\n    console.log('Current URL:', window.location.href);\n    console.log('URL has code param:', window.location.search.includes('code='));\n    \n    const initKeycloak = async () => {\n      try {\n        setKeycloakState('connecting');\n        \n        // Check if this is a callback from Keycloak (has 'code' parameter)\n        const urlParams = new URLSearchParams(window.location.search);\n        const isCallback = urlParams.has('code') && urlParams.has('state');\n        \n        console.log('Is callback URL:', isCallback);\n        \n        const initOptions = {\n          onLoad: isCallback ? 'login-required' : 'check-sso',\n          checkLoginIframe: false,\n          pkceMethod: 'S256'\n        };\n        \n        console.log('Keycloak init options:', initOptions);\n        \n        const authenticated = await keycloak.init(initOptions);\n        \n        console.log('=== KEYCLOAK INIT COMPLETE ===');\n        console.log('Authenticated:', authenticated);\n        console.log('Token present:', !!keycloak.token);\n        console.log('Token parsed:', keycloak.tokenParsed);\n        \n        setKeycloakState('ready');\n        setIsAuthenticated(authenticated);\n        \n        if (authenticated) {\n          console.log('User is authenticated, loading profile...');\n          await loadUserData();\n          \n          // If we're on login page and authenticated, redirect to dashboard\n          if (window.location.pathname === '/login' || window.location.pathname === '/') {\n            console.log('Authenticated user on login page, redirecting to dashboard');\n            window.location.replace('/dashboard');\n            return;\n          }\n        } else {\n          console.log('User not authenticated');\n          // If we're trying to access dashboard but not authenticated, redirect to login\n          if (window.location.pathname === '/dashboard') {\n            console.log('Unauthenticated user on dashboard, redirecting to login');\n            window.location.replace('/login');\n            return;\n          }\n        }\n        \n      } catch (initError) {\n        console.error('=== KEYCLOAK INIT FAILED ===');\n        console.error('Error:', initError);\n        setKeycloakState('error');\n        //setError(initError.message || 'Keycloak initialization failed');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    initKeycloak();\n  }, []);\n\n  // Set up Keycloak event listeners\n  useEffect(() => {\n    console.log('Setting up Keycloak event listeners...');\n    \n    keycloak.onAuthSuccess = () => {\n      console.log('=== AUTH SUCCESS EVENT ===');\n      setError(null);\n      setIsAuthenticated(true);\n      loadUserData().then(() => {\n        // Redirect to dashboard after successful auth\n        if (window.location.pathname !== '/dashboard') {\n          console.log('Auth success, redirecting to dashboard');\n          window.location.replace('/dashboard');\n        }\n      });\n    };\n\n    keycloak.onAuthError = (errorData) => {\n      console.error('=== AUTH ERROR EVENT ===');\n      console.error('Error:', errorData);\n      setError('Authentication failed');\n      setIsAuthenticated(false);\n      setUser(null);\n    };\n\n    keycloak.onAuthLogout = () => {\n      console.log('=== AUTH LOGOUT EVENT ===');\n      setIsAuthenticated(false);\n      setUser(null);\n      setError(null);\n    };\n\n    keycloak.onTokenExpired = () => {\n      console.log('=== TOKEN EXPIRED EVENT ===');\n      keycloak.updateToken(30).catch(() => {\n        console.log('Token refresh failed, logging out');\n        setIsAuthenticated(false);\n        setUser(null);\n      });\n    };\n\n    return () => {\n      keycloak.onAuthSuccess = null;\n      keycloak.onAuthError = null;\n      keycloak.onAuthLogout = null;\n      keycloak.onTokenExpired = null;\n    };\n  }, []);\n\n  // Loading screen\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Initializing authentication...</p>\n          <p className=\"text-sm text-gray-500 mt-2\">State: {keycloakState}</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Error screen\n  if (error && keycloakState === 'error') {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center max-w-md\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n            <h3 className=\"text-lg font-semibold text-red-800 mb-2\">\n              Authentication Service Error\n            </h3>\n            <p className=\"text-red-600 mb-4\">{error}</p>\n            <button\n              onClick={() => window.location.reload()}\n              className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors\"\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-gray-50\" >\n        <DebugInfo \n          isAuthenticated={isAuthenticated}\n          user={user}\n          keycloakState={keycloakState}\n          error={error}\n        />\n        \n        <Routes>\n          <Route\n            path=\"/login\"\n            element={\n              isAuthenticated ? \n                <Navigate to=\"/dashboard\" replace /> :\n                <LoginPage \n                  keycloakError={error} \n                  onManualCheck={checkAuthStatus}\n                />\n            }\n          />\n          \n          <Route\n            path=\"/dashboard\"\n            element={\n              isAuthenticated ? \n                <DashboardPage user={user} /> :\n                <Navigate to=\"/login\" replace />\n            }\n          />\n          \n          <Route\n            path=\"/\"\n            element={\n              <Navigate to={isAuthenticated ? \"/dashboard\" : \"/login\"} replace />\n            }\n          />\n          \n          <Route path=\"*\" element={<Navigate to=\"/login\" replace />} />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
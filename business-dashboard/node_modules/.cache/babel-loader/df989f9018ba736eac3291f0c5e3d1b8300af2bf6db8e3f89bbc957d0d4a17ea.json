{"ast":null,"code":"var _jsxFileName = \"/Users/chandan/Desktop/ZTA prototype1/business-dashboard/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport Dashboard from './components/Dashboard';\nimport keycloak from './keycloak'; // Import your keycloak configuration\n\n// Login Page Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoginPage = ({\n  onLogin,\n  keycloakError\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const handleLogin = () => {\n    // Redirect to Keycloak login\n    keycloak.login({\n      redirectUri: window.location.origin + '/dashboard'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-md w-full space-y-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mx-auto h-12 w-12 text-indigo-600\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"h-12 w-12\",\n            fill: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              d: \"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 24,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"mt-6 text-center text-3xl font-extrabold text-gray-900\",\n          children: \"Sign in to your account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 27,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-2 text-center text-sm text-gray-600\",\n          children: \"BusinessPro Dashboard\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 9\n      }, this), keycloakError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-sm\",\n          children: [\"Authentication Error: \", keycloakError]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-8 space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogin,\n          className: \"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"absolute left-0 inset-y-0 flex items-center pl-3\",\n            children: /*#__PURE__*/_jsxDEV(\"svg\", {\n              className: \"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\",\n              fill: \"currentColor\",\n              viewBox: \"0 0 20 20\",\n              children: /*#__PURE__*/_jsxDEV(\"path\", {\n                fillRule: \"evenodd\",\n                d: \"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\",\n                clipRule: \"evenodd\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 48,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 47,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 13\n          }, this), \"Sign in with Keycloak\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-xs text-gray-500\",\n          children: \"Secure authentication powered by Keycloak\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 19,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 18,\n    columnNumber: 5\n  }, this);\n};\n\n// Dashboard Page Component\n_s(LoginPage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c = LoginPage;\nconst DashboardPage = ({\n  user,\n  keycloakInstance\n}) => {\n  _s2();\n  const navigate = useNavigate();\n  const handleLogout = () => {\n    // Keycloak logout with redirect\n    keycloakInstance.logout({\n      redirectUri: window.location.origin + '/login'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(Dashboard, {\n    isAuthenticated: true,\n    user: user,\n    onLogout: handleLogout,\n    keycloak: keycloakInstance // Pass keycloak instance to Dashboard\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n// Protected Route Component\n_s2(DashboardPage, \"CzcTeTziyjMsSrAVmHuCCb6+Bfg=\", false, function () {\n  return [useNavigate];\n});\n_c2 = DashboardPage;\nconst ProtectedRoute = ({\n  children,\n  isAuthenticated,\n  isLoading\n}) => {\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Checking authentication...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this);\n  }\n  return isAuthenticated ? children : /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\",\n    replace: true\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 39\n  }, this);\n};\n\n// Keycloak Callback Component - handles the redirect from Keycloak\n_c3 = ProtectedRoute;\nconst KeycloakCallback = ({\n  onAuthSuccess,\n  onAuthError\n}) => {\n  _s3();\n  useEffect(() => {\n    // This component handles the callback from Keycloak\n    // The actual token processing is handled in the main App component\n    console.log('Processing Keycloak callback...');\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-4 text-gray-600\",\n        children: \"Processing authentication...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 5\n  }, this);\n};\n\n// Main App Component\n_s3(KeycloakCallback, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c4 = KeycloakCallback;\nfunction App() {\n  _s4();\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [keycloakError, setKeycloakError] = useState(null);\n  const [keycloakInitialized, setKeycloakInitialized] = useState(false);\n\n  // Initialize Keycloak\n  useEffect(() => {\n    const initKeycloak = async () => {\n      try {\n        const authenticated = await keycloak.init({\n          onLoad: 'check-sso',\n          // Check if user is already logged in\n          silentCheckSsoRedirectUri: window.location.origin + '/silent-check-sso.html',\n          pkceMethod: 'S256',\n          checkLoginIframe: false // Disable iframe check for better compatibility\n        });\n        setKeycloakInitialized(true);\n        setIsAuthenticated(authenticated);\n        if (authenticated) {\n          // Load user profile\n          try {\n            var _keycloak$realmAccess;\n            const profile = await keycloak.loadUserProfile();\n            setUser({\n              name: `${profile.firstName || ''} ${profile.lastName || ''}`.trim() || profile.username,\n              email: profile.email,\n              username: profile.username,\n              firstName: profile.firstName,\n              lastName: profile.lastName,\n              roles: ((_keycloak$realmAccess = keycloak.realmAccess) === null || _keycloak$realmAccess === void 0 ? void 0 : _keycloak$realmAccess.roles) || [],\n              token: keycloak.token,\n              refreshToken: keycloak.refreshToken\n            });\n          } catch (profileError) {\n            var _keycloak$realmAccess2;\n            console.warn('Could not load user profile, using token data:', profileError);\n            // Fallback to token data if profile loading fails\n            const tokenParsed = keycloak.tokenParsed;\n            setUser({\n              name: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.name) || (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.preferred_username) || 'User',\n              email: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.email) || '',\n              username: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.preferred_username) || '',\n              firstName: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.given_name) || '',\n              lastName: (tokenParsed === null || tokenParsed === void 0 ? void 0 : tokenParsed.family_name) || '',\n              roles: ((_keycloak$realmAccess2 = keycloak.realmAccess) === null || _keycloak$realmAccess2 === void 0 ? void 0 : _keycloak$realmAccess2.roles) || [],\n              token: keycloak.token,\n              refreshToken: keycloak.refreshToken\n            });\n          }\n        }\n      } catch (error) {\n        console.error('Keycloak initialization failed:', error);\n        setKeycloakError;\n        setKeycloakError(error.message || 'Authentication service unavailable');\n      } finally {\n        setLoading(false);\n      }\n    };\n    initKeycloak();\n  }, []);\n\n  // Setup Keycloak event listeners\n  useEffect(() => {\n    if (!keycloakInitialized) return;\n\n    // Token expired - try to refresh\n    keycloak.onTokenExpired = () => {\n      console.log('Token expired, attempting refresh...');\n      keycloak.updateToken(30).then(refreshed => {\n        if (refreshed) {\n          console.log('Token refreshed successfully');\n          // Update user data with new token\n          setUser(prev => prev ? {\n            ...prev,\n            token: keycloak.token,\n            refreshToken: keycloak.refreshToken\n          } : null);\n        }\n      }).catch(error => {\n        console.error('Token refresh failed:', error);\n        handleLogout();\n      });\n    };\n\n    // Authentication success\n    keycloak.onAuthSuccess = () => {\n      console.log('Authentication successful');\n      setKeycloakError(null);\n    };\n\n    // Authentication error\n    keycloak.onAuthError = error => {\n      console.error('Authentication error:', error);\n      setKeycloakError('Authentication failed. Please try again.');\n    };\n\n    // Logout\n    keycloak.onAuthLogout = () => {\n      console.log('User logged out');\n      handleLogout();\n    };\n\n    // Cleanup function\n    return () => {\n      keycloak.onTokenExpired = null;\n      keycloak.onAuthSuccess = null;\n      keycloak.onAuthError = null;\n      keycloak.onAuthLogout = null;\n    };\n  }, [keycloakInitialized]);\n\n  // Handle logout\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUser(null);\n    setKeycloakError(null);\n  };\n\n  // Show loading spinner while initializing Keycloak\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-gray-600\",\n          children: \"Initializing authentication...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 247,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this);\n  }\n\n  // Show error screen if Keycloak failed to initialize\n  if (keycloakError && !keycloakInitialized) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50 flex items-center justify-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center max-w-md\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border border-red-200 rounded-lg p-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-red-800 mb-2\",\n            children: \"Authentication Service Error\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-red-600 mb-4\",\n            children: keycloakError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 262,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => window.location.reload(),\n            className: \"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors\",\n            children: \"Retry\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 258,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-screen bg-gray-50\",\n      children: /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/login\",\n          element: isAuthenticated ? /*#__PURE__*/_jsxDEV(Navigate, {\n            to: \"/dashboard\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(LoginPage, {\n            onLogin: () => {},\n            keycloakError: keycloakError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 286,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/dashboard\",\n          element: /*#__PURE__*/_jsxDEV(ProtectedRoute, {\n            isAuthenticated: isAuthenticated,\n            isLoading: loading,\n            children: /*#__PURE__*/_jsxDEV(DashboardPage, {\n              user: user,\n              keycloakInstance: keycloak\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/auth/callback\",\n          element: /*#__PURE__*/_jsxDEV(KeycloakCallback, {\n            onAuthSuccess: () => setKeycloakError(null),\n            onAuthError: error => setKeycloakError(error)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: isAuthenticated ? \"/dashboard\" : \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"*\",\n          element: /*#__PURE__*/_jsxDEV(Navigate, {\n            to: isAuthenticated ? \"/dashboard\" : \"/login\",\n            replace: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 330,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 276,\n    columnNumber: 5\n  }, this);\n}\n_s4(App, \"YTHWymGwCU6KW+/+G1Tp+IeYPZ8=\");\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"LoginPage\");\n$RefreshReg$(_c2, \"DashboardPage\");\n$RefreshReg$(_c3, \"ProtectedRoute\");\n$RefreshReg$(_c4, \"KeycloakCallback\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","useNavigate","Dashboard","keycloak","jsxDEV","_jsxDEV","LoginPage","onLogin","keycloakError","_s","navigate","handleLogin","login","redirectUri","window","location","origin","className","children","fill","viewBox","d","fileName","_jsxFileName","lineNumber","columnNumber","onClick","fillRule","clipRule","_c","DashboardPage","user","keycloakInstance","_s2","handleLogout","logout","isAuthenticated","onLogout","_c2","ProtectedRoute","isLoading","to","replace","_c3","KeycloakCallback","onAuthSuccess","onAuthError","_s3","console","log","_c4","App","_s4","setIsAuthenticated","setUser","loading","setLoading","setKeycloakError","keycloakInitialized","setKeycloakInitialized","initKeycloak","authenticated","init","onLoad","silentCheckSsoRedirectUri","pkceMethod","checkLoginIframe","_keycloak$realmAccess","profile","loadUserProfile","name","firstName","lastName","trim","username","email","roles","realmAccess","token","refreshToken","profileError","_keycloak$realmAccess2","warn","tokenParsed","preferred_username","given_name","family_name","error","message","onTokenExpired","updateToken","then","refreshed","prev","catch","onAuthLogout","reload","path","element","_c5","$RefreshReg$"],"sources":["/Users/chandan/Desktop/ZTA prototype1/business-dashboard/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate, useNavigate } from 'react-router-dom';\nimport Dashboard from './components/Dashboard';\nimport keycloak from './keycloak'; // Import your keycloak configuration\n\n// Login Page Component\nconst LoginPage = ({ onLogin, keycloakError }) => {\n  const navigate = useNavigate();\n  \n  const handleLogin = () => {\n    // Redirect to Keycloak login\n    keycloak.login({\n      redirectUri: window.location.origin + '/dashboard'\n    });\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <div className=\"mx-auto h-12 w-12 text-indigo-600\">\n            {/* Add your logo/icon here */}\n            <svg className=\"h-12 w-12\" fill=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path d=\"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z\"/>\n            </svg>\n          </div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">\n            Sign in to your account\n          </h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            BusinessPro Dashboard\n          </p>\n        </div>\n        \n        {keycloakError && (\n          <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded\">\n            <p className=\"text-sm\">Authentication Error: {keycloakError}</p>\n          </div>\n        )}\n        \n        <div className=\"mt-8 space-y-6\">\n          <button\n            onClick={handleLogin}\n            className=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors\"\n          >\n            <span className=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n              <svg className=\"h-5 w-5 text-indigo-500 group-hover:text-indigo-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                <path fillRule=\"evenodd\" d=\"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z\" clipRule=\"evenodd\" />\n              </svg>\n            </span>\n            Sign in with Keycloak\n          </button>\n          \n          <div className=\"text-center text-xs text-gray-500\">\n            Secure authentication powered by Keycloak\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\n// Dashboard Page Component\nconst DashboardPage = ({ user, keycloakInstance }) => {\n  const navigate = useNavigate();\n  \n  const handleLogout = () => {\n    // Keycloak logout with redirect\n    keycloakInstance.logout({\n      redirectUri: window.location.origin + '/login'\n    });\n  };\n\n  return (\n    <Dashboard\n      isAuthenticated={true}\n      user={user}\n      onLogout={handleLogout}\n      keycloak={keycloakInstance} // Pass keycloak instance to Dashboard\n    />\n  );\n};\n\n// Protected Route Component\nconst ProtectedRoute = ({ children, isAuthenticated, isLoading }) => {\n  if (isLoading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Checking authentication...</p>\n        </div>\n      </div>\n    );\n  }\n  \n  return isAuthenticated ? children : <Navigate to=\"/login\" replace />;\n};\n\n// Keycloak Callback Component - handles the redirect from Keycloak\nconst KeycloakCallback = ({ onAuthSuccess, onAuthError }) => {\n  useEffect(() => {\n    // This component handles the callback from Keycloak\n    // The actual token processing is handled in the main App component\n    console.log('Processing Keycloak callback...');\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n      <div className=\"text-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\n        <p className=\"mt-4 text-gray-600\">Processing authentication...</p>\n      </div>\n    </div>\n  );\n};\n\n// Main App Component\nfunction App() {\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [keycloakError, setKeycloakError] = useState(null);\n  const [keycloakInitialized, setKeycloakInitialized] = useState(false);\n\n  // Initialize Keycloak\n  useEffect(() => {\n    const initKeycloak = async () => {\n      try {\n        const authenticated = await keycloak.init({\n          onLoad: 'check-sso', // Check if user is already logged in\n          silentCheckSsoRedirectUri: window.location.origin + '/silent-check-sso.html',\n          pkceMethod: 'S256',\n          checkLoginIframe: false // Disable iframe check for better compatibility\n        });\n\n        setKeycloakInitialized(true);\n        setIsAuthenticated(authenticated);\n\n        if (authenticated) {\n          // Load user profile\n          try {\n            const profile = await keycloak.loadUserProfile();\n            setUser({\n              name: `${profile.firstName || ''} ${profile.lastName || ''}`.trim() || profile.username,\n              email: profile.email,\n              username: profile.username,\n              firstName: profile.firstName,\n              lastName: profile.lastName,\n              roles: keycloak.realmAccess?.roles || [],\n              token: keycloak.token,\n              refreshToken: keycloak.refreshToken\n            });\n          } catch (profileError) {\n            console.warn('Could not load user profile, using token data:', profileError);\n            // Fallback to token data if profile loading fails\n            const tokenParsed = keycloak.tokenParsed;\n            setUser({\n              name: tokenParsed?.name || tokenParsed?.preferred_username || 'User',\n              email: tokenParsed?.email || '',\n              username: tokenParsed?.preferred_username || '',\n              firstName: tokenParsed?.given_name || '',\n              lastName: tokenParsed?.family_name || '',\n              roles: keycloak.realmAccess?.roles || [],\n              token: keycloak.token,\n              refreshToken: keycloak.refreshToken\n            });\n          }\n        }\n      } catch (error) {\n        console.error('Keycloak initialization failed:', error);\n        setKeycloakError\n        setKeycloakError(error.message || 'Authentication service unavailable');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    initKeycloak();\n  }, []);\n\n  // Setup Keycloak event listeners\n  useEffect(() => {\n    if (!keycloakInitialized) return;\n\n    // Token expired - try to refresh\n    keycloak.onTokenExpired = () => {\n      console.log('Token expired, attempting refresh...');\n      keycloak.updateToken(30)\n        .then((refreshed) => {\n          if (refreshed) {\n            console.log('Token refreshed successfully');\n            // Update user data with new token\n            setUser(prev => prev ? {\n              ...prev,\n              token: keycloak.token,\n              refreshToken: keycloak.refreshToken\n            } : null);\n          }\n        })\n        .catch((error) => {\n          console.error('Token refresh failed:', error);\n          handleLogout();\n        });\n    };\n\n    // Authentication success\n    keycloak.onAuthSuccess = () => {\n      console.log('Authentication successful');\n      setKeycloakError(null);\n    };\n\n    // Authentication error\n    keycloak.onAuthError = (error) => {\n      console.error('Authentication error:', error);\n      setKeycloakError('Authentication failed. Please try again.');\n    };\n\n    // Logout\n    keycloak.onAuthLogout = () => {\n      console.log('User logged out');\n      handleLogout();\n    };\n\n    // Cleanup function\n    return () => {\n      keycloak.onTokenExpired = null;\n      keycloak.onAuthSuccess = null;\n      keycloak.onAuthError = null;\n      keycloak.onAuthLogout = null;\n    };\n  }, [keycloakInitialized]);\n\n  // Handle logout\n  const handleLogout = () => {\n    setIsAuthenticated(false);\n    setUser(null);\n    setKeycloakError(null);\n  };\n\n  // Show loading spinner while initializing Keycloak\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto\"></div>\n          <p className=\"mt-4 text-gray-600\">Initializing authentication...</p>\n        </div>\n      </div>\n    );\n  }\n\n  // Show error screen if Keycloak failed to initialize\n  if (keycloakError && !keycloakInitialized) {\n    return (\n      <div className=\"min-h-screen bg-gray-50 flex items-center justify-center\">\n        <div className=\"text-center max-w-md\">\n          <div className=\"bg-red-50 border border-red-200 rounded-lg p-6\">\n            <h3 className=\"text-lg font-semibold text-red-800 mb-2\">\n              Authentication Service Error\n            </h3>\n            <p className=\"text-red-600 mb-4\">{keycloakError}</p>\n            <button\n              onClick={() => window.location.reload()}\n              className=\"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 transition-colors\"\n            >\n              Retry\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <Router>\n      <div className=\"min-h-screen bg-gray-50\">\n        <Routes>\n          {/* Login Route */}\n          <Route\n            path=\"/login\"\n            element={\n              isAuthenticated ? (\n                <Navigate to=\"/dashboard\" replace />\n              ) : (\n                <LoginPage \n                  onLogin={() => {}} \n                  keycloakError={keycloakError}\n                />\n              )\n            }\n          />\n          \n          {/* Dashboard Route - Protected */}\n          <Route\n            path=\"/dashboard\"\n            element={\n              <ProtectedRoute \n                isAuthenticated={isAuthenticated}\n                isLoading={loading}\n              >\n                <DashboardPage \n                  user={user} \n                  keycloakInstance={keycloak}\n                />\n              </ProtectedRoute>\n            }\n          />\n\n          {/* Keycloak Callback Route (optional - for explicit callback handling) */}\n          <Route\n            path=\"/auth/callback\"\n            element={\n              <KeycloakCallback\n                onAuthSuccess={() => setKeycloakError(null)}\n                onAuthError={(error) => setKeycloakError(error)}\n              />\n            }\n          />\n          \n          {/* Default Route - Redirect based on auth status */}\n          <Route\n            path=\"/\"\n            element={\n              <Navigate to={isAuthenticated ? \"/dashboard\" : \"/login\"} replace />\n            }\n          />\n          \n          {/* Catch all other routes */}\n          <Route\n            path=\"*\"\n            element={\n              <Navigate to={isAuthenticated ? \"/dashboard\" : \"/login\"} replace />\n            }\n          />\n        </Routes>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}